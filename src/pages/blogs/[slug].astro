---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.vue';
import blogs from '../../data/blogs.json';

export function getStaticPaths() {
  return blogs.blogs.map((blog) => ({
    params: { slug: blog.slug },
    props: { blog },
  }));
}

const { blog } = Astro.props;
---

<Layout title={`${blog.title} - Your Name`}>
  <Header client:load />
  <main class="container mx-auto px-4 pt-24">
    <article class="max-w-3xl mx-auto py-6 md:py-8">
      <header class="mb-6 md:mb-8">
        <div class="flex flex-wrap items-center gap-3 md:gap-4 mb-4">
          <a href="/blogs" class="text-primary hover:text-primary/80 transition-colors">
            ← Back to Blog
          </a>
          <span class="text-dark-text/60">{blog.date}</span>
          <span class="text-primary">{blog.category}</span>
        </div>
        <h1 class="text-3xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text">
          {blog.title}
        </h1>
      </header>

      <div class="prose prose-invert prose-lg max-w-none">
        {blog.content}
      </div>

      <footer class="mt-12 pt-8 border-t border-dark-text/20">
        <div class="flex justify-between items-center">
          <a href="/blogs" class="text-primary hover:text-primary/80 transition-colors">
            ← Back to Blog List
          </a>
          <div class="flex gap-4">
            <button
              onclick="navigator.share({
                title: document.title,
                text: 'Check out this blog post!',
                url: window.location.href
              }).catch(() => {
                navigator.clipboard.writeText(window.location.href);
                alert('Link copied to clipboard!');
              })"
              class="text-dark-text hover:text-primary transition-colors cursor-pointer"
            >
              Share Post
            </button>
          </div>
        </div>
      </footer>
    </article>
  </main>
</Layout>
