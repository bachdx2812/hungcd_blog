---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.vue';
import blogs from '../../data/blogs.json';
import MarkdownIt from 'markdown-it';

const md = new MarkdownIt();

export function getStaticPaths() {
  return blogs.blogs.map((blog) => ({
    params: { slug: blog.slug },
    props: { blog },
  }));
}

const { blog } = Astro.props;
const renderedContent = md.render(blog.content);
---

<Layout title={`${blog.title} - Your Name`}>
  <Header client:load />
  <main class="container mx-auto px-4 pt-24">
    <article class="max-w-3xl mx-auto py-6 md:py-8">
      <header class="mb-6 md:mb-8">
        <div class="flex flex-wrap items-center gap-3 md:gap-4 mb-4">
          <a href="/blogs" class="text-primary hover:text-primary/80 transition-colors">
            ← Back to Blog
          </a>
          <span class="text-dark-text/60 bg-dark-card/10 px-2 py-1 rounded-md">
            {new Date(blog.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
          </span>
          <span class="px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-semibold">
            {blog.category}
          </span>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text">
          {blog.title}
        </h1>
      </header>

      <div class="prose prose-invert prose-lg max-w-none" set:html={renderedContent}></div>

      <footer class="mt-12 pt-8 border-t border-dark-text/20">
        <div class="flex justify-between items-center">
          <a href="/blogs" class="text-primary hover:text-primary/80 transition-colors">
            ← Back to Blog List
          </a>
        </div>
      </footer>
    </article>
  </main>
</Layout>

<style>
  .prose {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    line-height: 1.6;
    color: #e0e0e0;
    font-size: 1.2rem;
  }

  .prose h1 {
    font-size: 3rem;
    color: #00aaff;
  }

  .prose h2 {
    font-size: 2.5rem;
    color: #0088cc;
  }

  .prose p {
    margin-bottom: 1.5rem;
  }

  .prose a {
    color: #00aaff;
    text-decoration: underline;
  }

  .prose a:hover {
    color: #0088cc;
  }
</style>
